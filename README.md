# Journey-to-become-a-Blockchain-Engineer

I'm sharing everything I'm learning to become a Blockchain Engineer

![Blockchain](/Images/main.jpg)

| <p align="center"> Day 1 </p> |
| ------ |
|  **Blockchain** |
| - Bitcoin |
| - Ethereum |
| - Smart Contracts |
| - Bitcoin Vs Ethereum |
| - Oracle Problem & Solution |
| - Hybrid Smart Contracts |
| - Chainlink |
| - Importance of Ethereum |
| - Chainlink features |
| - Summary |
| **Features of blockchain and smart contracts**|
| - Decentralized |
| - Transparency & Flexibility |
| - Speed & Efficiency |
| - Security & Immutability |
| -  Removal of Counterparty risks |
| - Trust Minimized  Agreements |
| - Summary |
|  **DAOs**|
| **Ethereum Transaction On a Live  Blockchain** |
| - Wallet Creation |
| - Etherscan |
| - Multiple Accounts |
| - Mnemonic ,  Public & Private keys |
| - Mnemonic vs Private vs Public keys |
| - Mainnet & Testnets |
| - Initiating our first Transaction |
| - Transaction details |
| - Gas fees, Transaction fees, Gas limit, Gas price |
| - Gas vs Gas price vs Gas Limit vs Transaction fee |
| - Gas estimator |
| **How Blockchain works/whats going on Inside the Blockchain** |
| - Hash or Hashing or SHA256 |
| - Block |
| - Blockchain |
| - Decentralized/Distributed Blockchain |
| - Tokens/Transaction History |
| - Summary |
| <p align="center"> Day2 </p> |
|        |
| **Signing and Verifying a Transaction** |
| - Public & Private Keys |
| - Signatures |
| - Transactions |
| - Summary |
| **Concepts are same** |
| - Nodes |
| - Centralized entity vs  Decentralized Blockchain |
| - Transactions are Listed |
| - Consensus |
| - proof of work/Sybil resistance mechanism |
| - Blocktime |
| - Chain selection rule |
| - Nakamoto consensus |
| - Block Confirmations |
| - Block rewards & transaction fees |
| - Sybil attack |
| - 51% attack |
| - Drawbacks of pow |
| - proof of stake/sybil resistance mechanism |
| - Validators |
| - pros & cons of pos |
| - Scalability problem & Sharding solution |
| - Layer 1 & Layer 2 |
| - Rollups |
| - Summary |


## **Blockchain**

**Bitcoin**

`Bitcoin` was one of the first protocol to use this revolutionary technoloy called `Blockchain`.Bitcoin's white paper was released by the sudo anonymous `Santoshi Nakamoto` and it outlined how bitcoin can be used to make peer to peer transactions in a decentralized network.This network is powered by `Cryptography`.It allows people to engage in censorship resistant finance in a decentralized manner.Due to some of the features of bitcoin a lot of people took it as a superior store of value over another asset like gold.That's why it is commonly referred to as digital gold.Similar to gold there's a scarce and set amount of it on the planet and people use it to buy and sell similar to other assets.You can read more about the original vision in the [white paper](https://bitcoinwhitepaper.co/).


**Ethereum**

Some people saw this technology and thought that they could do even more.A few years later a man named `Vitalik Buterin` released a white paper describing a new protocol called Ethereum which used the same blockchain infrastructure but with an additional feature and in 2015 they released this project called `Ethereum`.Him and a number of others co-founders took this blockchain technology and applied it in ways that people can make entirely decentralized applications, decentralized organizations and build smart contracts and engage in agreements without a third-party intermediary or centralized governing force.Their idea was to take the same pieces that made bitcoin great and add smart contracts to it.Technically this was not even a new idea.Back in 1994, a man names Nick Zabo proposed a technology called `Smart Contracts`.


**Smart Contracts**

A Smart Contract is a self executing set of instructions that is executed without a third party intermediary.They come to life on a blockchain and these smart contracts are really going to be a core thing that we're going to be working with and we're going to be developing.Smart contracts are similar to regular traditional contracts that people make between eachother but instead of writing these contracts down on pen and paper or typing that on the computer, it's entirely written in code.The terms of the agreement are written in code and automatically executed by the decentralized blockchain network.This is the main differentiators between the Ethereum protocol and the Bitcoin protocol.


**Bitcoin Vs Ethereum**

Technically Bitcoin also has smart contracts however they're not `touring complete`: they don't have the full range of capabilities as a turing complete application like ethereum.This is actually an intentional move by bitcoin developers.They view the bitcoin network as a asset whereas the ethereum and ethereum developers viewed that asset as an asset and also as a utility for people to build these smart contracts.These smart contracts are revolutionary technologies but they actually come with a fatal flaw with what's know as `The Oracle Problem`.


**Oracle Problem & Solution**

These blockchains are deterministic systems and we'll learn very soon.This determinism means they are a walled guarded meaning that everything that happens in these smart contracts and on this blockchain happens in this little box.Now ofcourse if you want these smart contracts to actually be these digital superior agreements then they need some way to interact with the real world and get real data and external outside the blockchain computation.This is where `oracles` come into play.Oracles are the devices that bring data into a blockchain or execute sometype of external computation.Great so oracles are the solution.Now blockchain can talk to real world right? Well not quite.Our blockchains and smart contracts are these decentralized applications and in order for them to stay decentralized that means they also need to get their data and external computation from a decentralized manner as well.Your on-chain logic will be decentralized on the blockchain but you'll also need your off-chain data and your external computation decentralized as well.


**Hybrid Smart Contracts**

Combining on-chain logic settlement layers and these off-chain data and external computation builds are called `Hybrid Smart Contracts`.A large majority of `defi applications` in the largest applications today are these hybrid smart contracts.This is where protocol chain link comes into play.


**Chainlink**

`Chain link` is a decentralized modular oracle network that allows you to bring data into your smart contracts and do external computation and these hybrids smart contracts can have this on-chain settlement and interact with the real world in some meaningful way.Chain link is an incredibly powerful oracle network because it allows us to get data, get randomness, do some type of update or really customise our smart contracts in any way we want and elevate them to do anything that we want them to do.


**Importance of Ethereum**

Decentralized application is usually a combination of several smart contracts.Smart contracts are going to be what we code, write and deploy for the majority in this lesson.The ethereum protocol has given rise to many new paradigms and industries including `DEFI`, `NTFs`, `DAOs`(decentralized autonomous organizations) , `Layer2` and more.A couple of other protocol have taken this ethereum vision and gone in a different direction with it like polygon, polka dot or avalanche.If we learn the core basics of smart contract development on the ethereum platform all these skills translate to these other chains as well.

There're some smart contracts platform aka blockchains that don't use solidity however learning fundamental skills here will still translate to every single other blockchain.

**Chainlink features**

Chainlink is the most popular and powerful decentralized oracle network and is going to be the one we're going to focus on here.Chainlink is also blockchain and smart contract platform agnostic meaning it'll work on Ethereum, Avalanche, Polygon, Polkadot or really any blockchain or smart contract platform out there.

**Summary**

- Bitcoin was the first one to take blockchain mainstream
- Bitcoin is like a digital gold.
- Ethereum allows for smart contracts.
- Chainlink provides data and external computation to smart contracts.
- Hybrid smart contracts combine on-chain and off-chain computations.


## **Features of blockchain and smart contracts**

**Decentralized**

There's no centralized source that controls the blockchain.The individuals that make up the blockchain are know as `node operators`.They are the independent individuals running the software that connects the whole blockchain together.It's all these different independent individuals that make the blockchain and blockchain like networks decentralized.This is so fundamentally groundbreaking is if you go back to what happened with robinhood and gamestop.Gamestop shares are no longer been allowed to be bought because a centralized entity didn't want them to be bought anymore.So they flipped the switch and nobody could buy that stock anymore.Essentially having a single entity controlling the entire financial market.The fact that single entity has the power to make these choices for us is a travesty and blockchain is here to solve that.There's a narrative here called the bankless narrative where users could actually live in a world where they don't have a bank.Bank while good in their own right have a history of doing some shady things.They also have the power to potentially freeze your funds not letting you withdraw or move or do anything because they are centralized entity that again can flip a switch and control how you interact with your life everyday.Being free of these centralized entities have this much power and this much control over your life has widespread positive remifications.

**Transparency & Flexibility**

Everything that's done on blockchain and all the rules that are made can be seen by everyone.There's no backdoor deals, no shady happenings.This means there's no special information that a few have.Everyone has to play by the same rules and everyone can see what those rules are.Additionally this doesn't mean that everything you do is tracked.The blockchain is `pseudo-anonymous`.So you can create different accounts and can interact with it in many different ways.

**Speed and Efficiency**

Have you ever tried to withdraw from the bank and it took 1-2 hours? All the bank is doing is adding and subtracting  numbers; basic first grade math.So why does it take so long? Because blockchains are verified by a decentralized collective, the settlement or withdrawl period in this case is substantially faster and depending on the blockchain that you're using can be from 10mins all the way down to just a couple of seconds.In the stock trading or hedge fund world, it can actually take upto a week for your buy or sell of a stock to go through.

**Security and Immutability**

Blockchains are `immutable` which means they can't be changed and because of this they can't be tampered with or corrupted in any way shape of form.This allows us to have massive security on our data, transactions and anything of the like.If your computer goes down and your backup computer goes down, in the regular world your data is gone.On a blockchain if several nodes goes down, it doesn't matter because as long as one node and the entire system is running, the data is safe and secure.There are 100's of thousands of nodes running these blockchain software meaning that everything that happens, happens and is immutable and won't change.Hacking the blockchain is nearly impossible and sustantially harder than hacking a centralized entity.This is also much more secure in the asset sense as well.Instead of having a gold in a vault or contract written in a piece of paper or on your computer, you've asset that is locked on blockchain forever and all you need to do to access it is have a private key or mnemonic which is essentially a password.

**Removal of counterparty risk**

Smart contract in particular remove a massive conflict of interest.In the traditional world when we engage with users or individuals, they don't always have our best interests at heart.A lot of them usually self motivated in some sense and there's nothing wrong with that.However when we make an agreement with them, this agreement can have a massive conflict of interest with the user who's supposed to execute that agreement.Let's take insurance for example If I pay an insurance provider 100 dollars a month, I'm paying them a 100 dollars and in the event that I get hit by a bus, we've made an agreement or a contract that they're going to pay my medical bills or bail me out.However they have this massive conflict of interest insurance companies aren't in the business of giving out money, they're in the business of making money.So even though they signed this agreement when this event occurs, they still don't want to pay this money out to me and if they can find the loophole in the contract.They will because that is what they are motivated to do.So they sign this agreement but it's not in the best interest to do so.So they have this massive conflict of interest and this is native in all of the agreements that we make today.They are the ones who decides whether or not they're going to execute their agreement.Giving execution power to the party that doesn't want to execute something that has often led to frustration.Now the follow-up is you can always sue them and go through this process but now you're wasting all this time going through all this long process to get something that you should have originally gotten in the first place.This leads me to one of the biggest value adds to smart contracts.

**Trust Minimized Agreements**

Smart contracts allows us to engage  in trustless and trust minimized agreements.We currently live in a world of brand based agreements.If I engage in some agreement and I don't like the service that I'm provided, my alternative to this is to waltz down the street to another brand to another service who's going to make the exact same set of promises to me and then I have to trust them that they're going to execute faithfully.Smart contracts allow us to move from this brand based agreements to `math based agreements`.These math based agreements we don't even have to trust that they're going to do the right thing.Hence the name trustless.One plus one always going to equal two in a math world.Whatever the code determines is the input/output that's exactly what's gonna happen  every single time.These really all add up to two major pieces : freedom and trustless.All these pieces allows us to live in a world that's more accountable, more trusting, more friendly and just better it allows us to work in an environment and a universe where things just work.It allows us to do the freedom to engage with other people how we wish because there's no centralized controlling body influencing every action that we make.All the rules are the same and nobody's getting special treatment.This bring out the new world of economic oppourtunity as well and as our lives become more and more digital where constantly being bombarded with centralized services that want us to use their interface so they can profit on how we interact and force us or push us to making the decisions that they're motivated for us to make.Smart contracts, decentralized applications and blockchain allows us to be free of these repressors and live in an environment that's truly free and trustless.

**Summary**

- Blockchains are decentralized.They aren't controlled by a single centralized entity.
- Blockchains are transparent.Everything that happens on a blockchain everybody else can see, work with and see that everyone's playing by the same rules. 
- Blockchains are quick and efficient especially when it comes to monetary policy.
- Blockchains can't be changed or tampered with or corrupted and are incredible secure.
- Smart contracts remove massive conflict of interest traditional agreements have.
- Smart contracts allows us to engage in trustless and trust minimized agreements.
- Smart contracts are typically paired with some type of oracle to get the information about the real world.When they're paired with oracle, they're called `Hybrid Smart Contracts`.


**DAOs**

DAOS are organizations that live online and live in the smart contracts.They're similar to regular organization in the traditional world however thay have people who maybe hold governance tokens to make voting decisions or they do all the governance on chain on this decentralized settlement layer giving us the freedom to engage with eachother as we please.


## **Ethereum Transaction On a Live  Blockchain**

First thing that we're going to need is an `ethereum wallet`.So go to `metamask` because it's one of the most popular wallet and one of the easiest to use.Download the wallet and it's going to be a little extension in the top right corner of your browser.This way we can really easily see at any time what we have in our wallet.This will store all our ethereum based currencies.Go ahead and install metamask.

**Wallet Creation**

![Metamask](/Images/Day1/a1.png)

We're going to create a brand new wallet so go head and hit create wallet.If you already have a wallet, you can actually import it via seed phrase.

![Metamask](/Images/Day1/a2.png)

Now we'll create our password and make sure this is really secure.If you want to use an account and actually put real ethereum and put real money into it, you absolutely need to back it up.

![Metamask](/Images/Day1/a3.png)

This is just a demo however if you show this secret phrase to anybody else they will have access to your all funds.So everything that we're gonna do, we're gonna use fake money.

![Metamask](/Images/Day1/a4.png)

Hit confirm and it gives couple of tips.Remember definitely take the tips seriously especially if you're gonna use the account for real money.

![Metamask](/Images/Day1/a5.png)

We can see the user interface of this wallet and if you look in your extensions, you can pin it in your browser and you can even just click it to get the same interface.

Our mnemonic phrase that secret phrase that we got has given us access to a new account.

![Metamask](/Images/Day1/a6.png)

**Etherscan**

The address of our account, we can use a tool like `etherscan`.

![Metamask](/Images/Day1/a7.png)

So if we look at this address that we just created, we can see that no transactions have happened.It's empty.It has zero ether.It has zero dollars worth of value.Address above is the unique address which represents exclusively the single account that we just created.

**Multiple Accounts**

We can even click the circle and create more account and give it a different account name.

![Metamask](/Images/Day1/a8.png)

Account 2 will have different account address.

**Mnemonic ,  Public & Private keys**

The mnemonic that we've been given gives us access to create multiple accounts with the same mnemonic.So havin that mnemonic will give us access to every single account that's ever created with that mnemonic.This is why securing your mnemonic is so crucial especially if you create multiple different accounts.Each account has a unique identifier with them as well.The account address is the public address.However there's also a private key to work with this account a secret key.We can view it by clicking three dots, go to account details and export private key.

![Metamask](/Images/Day1/a9.png)

This is a single password associated with this account.If you give somebody access to this private key, they'll have access to account 2.They won't have access to my account 1 because private key of account 2 is only associated with account 2.The mnemonic however is associated with all accounts.

**Mnemonic vs Private vs Public keys**

This is why when people say store your keys in safe place, they're referring to both private keys and mnemonic.If you lose your private key, you'll lose access to that account.If you lose your mnemonic you loose access to all your accounts.

**Mainnet & Testnets**

What else is going on in metamask is we can see this section here that says `Ethereum mainnet`.If we click it we can actually see a bunch of other networks in here.

![Metamask](/Images/Day1/a10.png)

When you buy eth and work with eth you're working on the ethereum mainnet.When you interact with smart contracts or defi you're going to be working on mainnet with real value.However since we're engineers oftentimes we're going to want to test our applications or do some type of integration tests or just make sure our code actually works.So there's also test nets.These are networks that resemble ethereum and work exactly the same way as ethereum does however they're not with real money and it's just for testing applications.We can even go to `Rinkeby Etherscan` and see the `Rinkeby Testnet Explorer`, we lookup our address and it's the exact the same information here.

![Metamask](/Images/Day1/a11.png)

Later on we're actually going to show you how to work with other evm compatible chains.Don't worry about evm compatible means for now but we can work with avalanche, polygon and other applications through networks interface as well.

**Initiating our first Transaction**

Infact we're going to make our first transaction on the Rinkeby Testnet and this will simulate exactly what it's like to make the transaction on the ethereum mainnet.

We're going to go to this application called the `Rinkeby Faucet`.This is where we're going to make our first transaction.Rinkeby is going to be one of the two testnets that we're actually gonna work with.The other test net that we're gonna work with is going to be `Coven`.It's important to know how to switch between testnets and evm compatible chains which is why we're going to be working with both.For now we're just be working with Rinkeby.

`Faucet` is a testnet application that gives us free test ethereum.Hence why it has no value because anybody can get it for free from one of these faucets.So to get testnet ethereum with faucet.rinkeby.io, we actually have to post a tweet or a facebook post with the tweet.

![Metamask](/Images/Day1/a12.png)

Now after the tweet we're gonna `copy link to tweet` and place it in Rinkeby Faucet and hit give me ether(18.75 ether/3days).

If we take the account address and go over to Rinkeby Etherscan, we now see the balance is 18.75.

![Metamask](/Images/Day1/a13.png)

But if we look at `Ethereum Mainnet` we've nothing there.We've just made our first transaction.And if we refresh the page, we can also see this is our first transaction that was made.Some account sent us 18.75 ether.We can even look at the details of the transaction.

**Transaction details**

Etherscan is what's known as `Block Explorer`.Block Explorer is an application that allows us to to see details of things that happen on a blockchain easily.We can see the transaction details of the transaction that we made and whenever we work with `Smart Contract` we'll also see them in a transaction similar to what we'll see in a transaction detail.

![Metamask](/Images/Day1/a14.png)

We can see a number of information above.We see a unique `transaction hash`.This hash or unique identifier uniquely identifies this transaction as the key of what this transaction is.

We can see the block number which we can see in a little bit.

We can see from this unique account which is the faucet account.

**Gas fees, Transaction fees, Gas limit, Gas price**

Gas refers to the fee paid to node operators for successfully including a transaction in a blockchain.Now exactly how this works is actually going to change pretty soon but the concept is basically anytime you want to change the state of blockchain wheteher this is a sending some ethereum or making any type of transaction, you actually have to pay a little bit of ethereum or a little bit of that native blockchain token to actually execute that transaction.Whenever we do something on the blockchain,it costs gas and if we do something that would take a lot of energy for the blockchain to do, it will cost more gas.So if I send single transaction that's gonna cost 21000 gas.However if I were to send a transaction that called the smart contract function and did a whole bunch of other stuff, it'd cost more gas.We see here whoever sent us eth also paid the blockchain miners or blockchain validators a little bit of ethereum to include our transaction.We actually get to pick how much of a fee we want to send with our transactions.  

![Metamask](/Images/Day1/a15.png)

**Gas vs Gas price vs Gas Limit vs Transaction fee**

Why would we ever wanna pay more gas price? Why do I even have the option to pay more?

Blockchain can only process so many transactions at a time and nodes and blockchain nodes can only process so many at a time.So when I make a transaction a node has to decide why they want to include my transaction into the block.If there're ton of people looking to make these transactions then the nodes are going to be highly incentivized to pick the transactions that're going to give them a high price that are going to give them alot of money for including that transaction.

**Gas estimator**

In ethgasstation.info, we could get the gas estimator of the blockchain.

![Metamask](/Images/Day1/a16.png)

It currently says that if you wanna get your transaction in right away, it's gonna cost you 81 wei to do so.If you wanna get it in less than 5mins, it's gonna take take you about 62wei.

So the gas price of the ethereum fluctuate with how much people use it and the gas prices of all these blockchains fluctuate with how much people use it.

![Metamask](/Images/Day1/a17.png)

So typically when you're setting your gas price in a transaction, you can take a look-see at your gas station to see the price based on your needs but it all depends on how many people are looking to work with this blcokchain at the same time.

The reason that these gas prices exist is because nodes can only put so many transactions into a block  so they're highly incentivized to input the transactions that are going to give them a higher fee.So in times when alot of people are looking to use a blockchain, prices will get very high and when very few people are using blockchain, prices will be very low.

With just this little bit of information, you now know how to interact with blockchains and interact with ethereum protocol.So if you don't want to learn how to code anything, you can go and you can start interacting with ethereum and interact with protocols with just this information.

Let's look under the hood of ethereum and what is actually going on with these transactions and with these gas and with these blockchains and what's really going on.Let's learn all the fundamentals of a blockchain.

## **How Blockchain works/whats going on Inside the Blockchain**


** Hash or Hashing or SHA256**

Before we get started, we need to take a look at this thing that we call SHA256 hash.Hash looks like bunch of random numbers and it's a fingerprint of some digital data.

hash below starts with `e3b0` which is the hash of nothing.

![Metamask](/Images/Day1/a18.png)

It just so happens it's a fingerprint of whatever I type in this box.If I type the text 'blockchain' into this box, you can see the hash has changed.

![Metamask](/Images/Day1/a19.png)

This is hash of the text 'blockchain' all lowercase which starts with 5318.If I delete the text and type the same text again, it'll have same hash.It's the `digital fingerprint` of the text 'blockchain'.

You could type tons and tons of text and you'd get a hash and the interesting thing about is if there's a tiny amount of information, no information or entire library of congress, you're always gonna get a hash that is this long shown above.You're not gonna be able to pre guess what it is.You'd always get exactly the same hash regardless of how many times you put exactly the same information in.

**Block**

Let's extend the idea of hash into something that we're gonna call block.

![Metamask](/Images/Day1/a20.png)

This is a block and it's exactly like the hash.It's just data section have been broken out into three sections: one called block:this is just some kind of number/block number, a nonce which is just another number and just some more data very similar to the way that we had it before. However the hash this block which includes all of the information up here in above figure which begins with four zeros.It's an relatively unsual hash and most of them are not really going to start with four zeros like the above hash.This one happens to and because it does totally arbitrarily, we can say the block is signed.
        
So what would happen if I were to change any one information in the above block ?

![Metamask](/Images/Day1/a21.png)

The above hash doesn't start with four zeros and the big background has turned red.Now we know this block with this informaton in it is not a valid or a signed block and that's where `Nonce` comes in.This Nonce is just a number that you can set to try to find a number that fits so that the above hash starts with four zeros again.

Above you can see `mine` button.When I click mine button, it's gonna run through all the numbers from 1 all the way up to try find one where the hash starts with four zeros and this process is called mining.

![Metamask](/Images/Day1/a22.png)

It stopped at 64,658 and that one just happens to hash out to something that starts with four zeros and it satisfies little definition of what a `signed block` is.

**Blockchain**

Blockchain is just the chain of these block.How do you put them together? Let's do that.

![Metamask](/Images/Day1/a23.png)

Block number 1 has nonce just like before, there's some data area too but then it has this `Prev` which is a bunch of zeros in first block.

![Metamask](/Images/Day1/a24.png)

The prev is block 2 starts with '0000ae' which is the hash of previous block (block 4).Each block points backwards to the one before it.You remember that the first block, there actually is no previous so it's prev is just a bunch of zeros.It actually just a fake number.

Just like we did before what happens if I change some information in block 5?

It's going to change the hash of this block and it's gonna invalidate it.

![Metamask](/Images/Day1/a25.png)

What would happen if I change something in block 4?

It's going to change the hash but that hash will get copied to the prev hash section of block 5 which change block 5 too.So it should break both blocks.

![Metamask](/Images/Day1/a26.png)

We can go back as far as we want to some point in the past and break that block and it'll break all the blocks since then.Everything before is green.

If I wanted to change something in the blockchian, I could go over to block number 5 and could change it then we could remine it and pick a different nonce.We could essentially alter the change.  

![Metamask](/Images/Day1/a27.png)

What if I go back in past and break block 3? 

![Metamask](/Images/Day1/a28.png)

Now I need to mine block 3 which picks nonce that makes the hash out to four zeros but block 4 and block 5 will still be broken.Although block 3 start with four zeros, adding the four zeros with different stuff in prev section of block 4, still makes the block 4 hash out incorrectly.So I also need to mine block 4 and similarly block 5.

What I wanted to tell is that if I go and change the last block, all I've to do is remine that last block.If I go way back in time to one of the block and make a change, I need to mine from that block.So more block I go by in the past, it's harder and harder to make a change.That's how a blockchain is going to resist mutation/change.

`How do I know that my blockchain has been remined ?`

**Decentralized/Distributed Blockchain**

Let's take a look at `Distributed Blockchain`.

![Metamask](/Images/Day1/a29.png)

![Metamask](/Images/Day1/a30.png)

It looks exactly like the last blockchain but has different peer for the blockchain.You can see peer B having the same blockchain structure like in Peer A.List could go out forever.There's many many peers out on the internet and they all have a complete copy of the blockchain.

If I look at the hash of Peer A block 5, it starts with '0000e4' and If I go down to PeerB block 5, it also has hash that start with '0000e4'.They must be identical.

If I type something on Peer B block 4 and remine block 4 and block 5.

![Metamask](/Images/Day1/a31.png)

All the block in Peer B is green.However the Peer A chain says that last hash start with '0000e4', Peer C says '0000e4' but the middle one says '00004c'.So just by glancing Peer B hash, something is wrong with that Peer B even though all of the hash start with four zeros.Essentially it's two against one.Peer A argues it's '0000e4', Peer B argues it's '00004c' and Peer C argues it's '0000e4'.So '0000e4' wins.So that's how a completely distributed copy having a copy on many different computers they can all very quickly see if all of the blocks are identical.Blockchains can have 400000/500000 blocks very easily so rather than checking through all of them, all you really have to do is to look at the hash of the most recent one and you can that if anything in the past was altered.You can tell by looking at the last block in the chain.


**Tokens/Transaction History**

That's the entire thing.There's no more to it than that but it's kind of not really useful because we don't have something in this data area that means anything I keep typing any text that's sort of irrelevant information.So what we really want is a `token`.Let's do a token on our blockchain.

![Metamask](/Images/Day1/a32.png)

Above tokens are totally arbitrarily which tells 25 dollars from 'Darcy' to 'Bingle'. 4.27 from 'Elizabeth' to 'Jane'.It's basically all the transactions that are happening.Replaced the data with these transactions and just like we saw before there's multiple blocks.It doesn't matter how many transaction there are.If we go down to other peers, we notice we have all these other copies of the same block.Now here's where the immutability is important.If I change something in Peer A block 4, the hash of the last block will be totally different from other peer's last block hash.If I were to go back in time and change some value, we would notice.That's the whole point of using the blockchain to resist any kind of modifications that have happened in the past.

We're not listing 'Darcy' has 100 dollars and she's 25 dollars to 'Bingle'.The only thing we're saying is 'Darcy' gives 25 to 'Bingle'.We're not remembering a bank account balance, only remembering money movements.So this begs the question `"Does Darcy have 25$ ?"`

We've a problem in this version of the blockchain: we don't actually know if Darcy has 25 dollars.So let's look at a `Coinbase` transaction.

![Metamask](/Images/Day1/a33.png)

Coinbase is gonna add a coinbase transaction to our blocks.This is saying that we're going to invest a 100 dollars out of thin air and give it to 'Anders' and there's no transaction in the block because nobody had any money previous to this.

In the next block, another 100 dollars comes out of nowhere and goes to 'Anders'.Now we've transaction and they're all from 'Anders' because 'Anders' is the only one who has any money at the point.'Anders' is sending 10 of his dollars to 'Sophie'.`Do 'Anders' have 10 dollars?` Yes he does because coinbase transaction has given him the 100 dollars.Add all the transaction 'Anders' is sending and they don't go over 100 and it follows sort of a basic rule of a currency that you can't invent it out of thin air, you can't create money out of thin air.It's dispersion is controlled.

![Metamask](/Images/Day1/a34.png)

If we look at this blockchain that we've created and zip forward in time and we notice that 'Jackson' is giving 'Alexa' 2 dollars.Does Jackson have 2 dollars? We go back a block before and see that 'Emily' had gotten 10 dollars from 'Andres' gave 10 to 'Jackson'.So 'Jackson' does have the money.That's actually one of the benefit's of having a previous in the block.It's easy to go backwards.


**Summary**

- Ethereum actually runs on Keccak256.
- Hash is a unique fixed length string to identify a piece of data.
- Hash algorithm is a function that computes data into a unique hash.
- Mining is the process of finding a "solution" to the blockchain "problem".
- Nodes get paid for mining blocks.
- Block is a list of transactions mined together.
- Blockchains are decentralized and distributed because many independent users are going to run this blockchain software and they'll check and compare against eachother to see which blockchains are acting honestly and which ones are acting maliciously.
- Nonce is a "number used once" to find the "solution" to the blockchain problem.
- Nonce is also used to define the transaction number for an account/address.


## **Signing and Verifying a Transaction**

We're going to talk about signing the transactions, private keys and some other cryptography bacause in the blockchain below we see fantastc transactions but how do we know that it was Darcy who was the one to send 25 dollars to Bingley.How do we know that actually happened?This is where all those pieces that we just learned about in our test net in our metamask account are really going to come to life .

![Transaction](/Images/Day2/b1.png)

**Public & Private Keys**

Here we've an example of public and private keys.

![Public_Private_Key](/Images/Day2/b2.png)

Private key: Only Known to the Key holder, it's used to "sign" transactions.
    
You really wanna keep secret because you're going to be using this as a kind of your secret password for all the transactions .

I can really pick any private key I want with this `Elliptic Curve Digital Signature Algorithm` for ethereum and bitcoin they both use this elliptic curve digital signature algorithm.It's a variant of the digital signature algorithm and It's going to create it's public key.

That public key we want everybody to have access to right.Whole world can see this public key.

We're going to use the private key as like a password to quote/unquote digitally signed transaction and then people can verify them with this public key.

Let's see what this actually look likes

**Signatures**

If we go to signatures tab and let's say we have this message that we want let's say "hi world"

What's going to happen is the private key that we created, we can use to sign this data(hi world).We're using digital signature algorithm to create this message signature.

![Message_Signature](/Images/Day2/b3.png)

What's really powerful about how this algorithm works is that you can create this message signature with your private key but somebody else can't derive your private key from the message signature.This is what makes this really really powerful.

However if we go to verify using our public key, anybody can verify that the signature is yours.

![Message_Verification](/Images/Day2/b4.png)


**Transactions**

If somebody try to fake a transaction, they need to verify their's signature against my public key and very easily it turns red cause it's not verified.

We can take that into transactions into exact same way.

![Transaction_verification](/Images/Day2/b5.png)

If I wanna send 20 dollars from my account to another account using my private key, I can sign that transactions and anybody else in the world could verify the transactions.This is why people say to protect your keys.

Your Ethereum address is actually a piece of your public key.To get our address to ethereum all we have to do is take this public key we've created with our private key, hash it using that same ethereum hashing algorithm and take the last 20 bytes and that's how we'll actually derive to our address.

Knowing the exact methodology of how to get the address doesn't really matter because it could change blockchain to blockchain but just know that's essentially how kind of these addresses are derived.

Note : This isn't how we send the transaction.So this is just going to sign it, create a transaction for us to send.We'll learn later on how to send these transactions.


## **Concepts are same**

Now we know all the cryptography pieces and all the little nitty grittes of how the blockchain actually works and how our signatures work and how everything sticks together.Let's talk a little bit about how this works in actuality and what's really going on.

For alot of this each different blockchain has slightly different algorithms, metrics and criteria for doing alot of this stuff.So when we're talking about specific implementations keep in mind the exact algorithm might be little different but the concepts are all still gonna be exactly the same.Hashing and hash function is going to be same no matter where you look.A decentralized blockchain is going to be same no matter where you look.How it's actually implemented is a little bit different.

Traditionally when you run an application you know be it as a website or something that connects to some server, you're interacting with a centralized entity and unlike how we saw with the blockchain with multiple different peers.It's going to be run by a single centralized group.It still could be run on many different servers but all those servers are still going to be controlled by the same centralized group.Blockchain as we saw run on a network of independent nodes.When we saw peerA, peerB, peerc and more, those were different examples of different independent users running the blockchain technology on their node.

**Node**

Node here means single instance of a decentralized system.When I say single node,when I'm talking about a blockchain, talking about one of those peerA's peerB's and so on running that blockhain software.I'm talking about one server running this technology and again it's the network it's this combination of these nodes interacting with eachother that creates this entire blockchain.What makes these so potent too is that anybody can join the network and that's why they're decentralized.The barrier to entry is a little bit of hardware requirements.Anybody can join these networks and participate and that's what make it truly decentralized.In fact you can go to github right now and run your ethereum node in a few seconds.

**Centralized entity vs  Decentralized Blockchain**

In the traditional world applications are run by centralized entities and if that entity goes down or is maliciously bribed or decides they wanna shut off they just can because they're the ones that control everything.

Blockchain by contrast don't have this problem.If one node or one entity that runs several nodes goes down since there're so many independent nodes running that it doesn't matter.The blockchain and the system will persist so long as there is atleast one node always running.Luckily for us most of the popular chains like bitcoin and ethereum have thousands and thousands of nodes.As we've showed in our demo if one nodes acts maliciously, all the other nodes will ignore that node and kick that out or even punish it in some systems because they can easily check everybody else's node and see this one is out of sync with the majority and yes majority rules when it comes to blockchain.

**Transactions are Listed**

Each blockchain keeps a full list of every transaction and interaction that's happened on that blockchain and we saw if a node tries to act maliciously then all their hashes are going to be way out of whack and they're not going to match anybody else.This gives the blockchain incredibly potent immutabilty trait where nothing can be changed or corrupted.

So in essence we can think of a blockchain as a decentralized database and with ethereum it has an extra additional feature where it also can do computation in a decentralized manner.

**Consensus**

When we went through that blockchain example and we did that mining feature this is what's known as `proof of work`.Proof of work and proof of stake fall under the umbrella of consensus amd consensus is a really important topic when it comes to blockchain.

Consensus is defines as the mechanism used to reach an agreement on the state or a single value on the blockchain especially in a decentralized system.I briefly alluded to this consensus mechanism in our blockchain example when I said if one changes something and the other two don't then majority will rule and kick that one out.This is part of that concensus mechanism.

Now very roughly a consensus protocol in a blockchain can be broken down into two pieces.
- `Chain Selection Algorithm`
- `Sybil Resistance mechanism` 

**Proof of Work/Sybil resistance mechanism**

That mining piece we're doing or the proof of work algorithm is what's known as a sybil resistance mechanism and this is what ethereum and bitcoin currently use.Proof of work is known as a sybil resistance mechanism because it defines a way to figure out who is the block author: which node is going to be the node who did the work to find that mine and be the author of the block so all the other nodes could verify that it's accurate.

### **Sybil Resistance**

Sybil Resistance is a blockchain's ability to defend against users creating a large number of pseudo-anonymous identities to gain a disproportionately advantageous influence over said system and in laymen's term it's basically a way for blockchain to defend aganst somebody making a fake nodes so that they can get more and more rewards.

There are two types of sybil resistance that we're gonna talk about here namely POW (Proof of Work) and POS (Proof of Stake).

### **POW**

In POW this is sybil resistant because a single node has to go through a very computationally expensive process called mining which we demonstrated earlier to figure out the answer to the blockchain's riddle of finding that correct nonce.

In POW this works because no matter how many pseudo-anonymous accounts you make each one still has to undergo this very computationally expensive activity of finding the answer to the proof-of-work problem which again in our demonstration it was finding a nonce with that first four zeros but each blockchain might change the riddle or change the problem to be little bit different.

**Blocktime**

In fact some of these blockchain make this riddle intentionally hard or intentionally easy to change what's called block time.The block time is how long it takes between blocks being published and it's proportional to how hard these algorithms are.So these problems can actually change depending on how long they want the block time to be.

If the system want the block time to be very very long they just make the problem very very hard and viceversa.We'll ralk about civil attacks in a little bit and how they can affect the system but with proof of work it's a verifiable way to figure out who the block author is and be civil resistant.

**Chain selection rule**

Now you need to combine this with the chain selection rule create this consensus.There are some consensus protocols that have more features but very very roughly there are two pieces that we're going to look at.The second piece is going to be chain selection rule.How do we know which blockchain is actually the real blockchain and the true blockchain?

**Nakamoto consensus**

On Bitcoin and Ethereum they both use a form of consensus called `Nakamoto Consensus` and this is a combination of POW and longest chain rule.The decentralized network decides that whichever blockchain has the longest chain or the most number of blocks on it is going to be the chain that they use.This makes lot of sense because every additional block that a chain is behind it's going to take more and more computation for it to come up.That's why we saw on our transaction we actually saw confirmations.

**Block Confirmations**

The number of confirmations is the number of additional blocks added on after our transaction went through in a block.So if we see confirmations is two it it means the block that our transactions was in has two blocks ahead of it in the longest chain.Now I do wanna point out that a lot of people use POW as a consensus protocol and I do wanna say that this is a little bit inaccurate but sometimes people use it interchangeably.POW is a piece of overall consensus protocol which in bitcoin and ethereum  one's current case is nakamoto consensus.


**Block rewards & transaction fees**

`This has recently changed as of EIP 1559`.
POW also tells us where these transaction fees and these block rewards go to.Remember how we made this transaction we had to talk about gas and a transaction fee.So who's getting paid? Who's getting this transaction and this transaction fee is going to the miners or validators?

In a POW network they're called miners and in POS they're called validators.There are little bit different and we'll get into that when we talk about POS.

In this POW system all these nodes are competing against eachother to find the answer to the blockchain riddle.Remember in our example it has to find hash that has four zeros at the start and again depending on the blockchain implementation that riddle is going to be a little bit different.

But all the nodes are trying as many as possible to try to get this answer first why because the first node to figure out the answer to the blockchain rule is going to get that transaction fee.They're going to get paid from that.

When a node get's paid they actually gets paid in two different ways.One is going to be with a transaction fee and another piece is going to be the block reward.

 - **Transaction fees**

Remember we talked about alternating the gas price that's the transaction fee that we're gonna pay to these blockchain nodes for including our transaction.The block reward is given to the nodes from the protocol from the blockchain itself.

 - **Block Reward**

You've probably heard of the bitcoin halving before.The halving is referring to this block reward getting cut in half and it's supposed to be cut in half roughly every four years.This block reward increases the circulation amount of whatever cryptocurrency that is being rewarded.For example on ethereum the block reward is giving out ethereum and on bitcoin it's giving out bitcoin.

So these nodes are competing against eachother to be the first one to find this transaction to be the first one to find the answer to this problem so that they can be the ones to win both this block reward and your transaction fee.Some blockchain like bitcoin for example has a set time when they're no longer going to give out block rewards and the mminers or the nodes are only going to get paid from transaction fees.

Gas fees are paid by whoever initialized the transaction.When we got our funds from the faucet there were some server and somebody else was paying the transaction fee for us.However we send ether from one account to another our first account actually paid some transaction fee to send that ether.

In POS there's also a gas fee but it's paid out to validators instead of miners and we'll talk about that in a little bit.

Now let's talk about two types of attack that can happen in this blockchain worlds.


**Sybil attack**

The Sybil Attack is when a user creates a whole bunch of pseudo-anonymous accounts to try to influence a network.Now obviously on bitcoin and ethereum this is really really difficult because the user needs to do all these work in POW or have a ton of collateral in proof of stake which again we'll talk about in a little bit.


**51% attack**

As we saw as part of our consensus protocol these blockchains are going to agree that the longest chain is the one that they're going to go with so long as it matches up with 51% of the rest of the network.This means that if you have the longest chain and you've more than 51% of the rest of the network you can do whats called a fork in the network and bring in the network onto your now longest chain.

Sybil attacks obviously are when a single node or a single entity tries to affect the decentrality of the network by pretending to be multiple different people although they're just the same person or entity and like I said it's really difficult to do in POW and POS.

### Longest Chain Rule

Now you can see that blockchains are very democratic.Whichever blockchain has the most buy-in and is the longest is the blockchain that the whole system is going to corroborate.When nodes produce a new block and add to the longest chain the other nodes will follow this longest chain that the rest of the network is agreeing with add those blocks to their chain and follow up.So very small reorganizations are actually pretty common when a blockchain picks a block from a different longest chain puts it on and then has to swap it out for another block and continue with the different blockchain.

However if a group of nodes had enough nodes or enough power they could essentially be 51% of the network and influence the network in whatever direction they wanted.This is what known as 51% attack.This happened on blockchains like Ethereum Classic which is not Ethereum.This is why the bigger a blockchain is the more decentralized and the more secure it becomes.


**Drawbacks of pow**

POW is fantastic because it allows us to very easily protect against these sybil attacks and keep our blockchains decentralized and secure.However it has some drawbacks as well.POW costs a lot of electricity because every single node is running aa fast as they can to win this race to get the rewards.This leads to obviously an environmental impact.Since POW and Nakamoto Consensus a lot of other protocols have taken this idea and gone in a different direction with a different sybil resistance protocol.Alot of them with the intention to be alot more environmentally friendly and the most popular one rn is POS.

**proof of stake/sybil resistance mechanism**

There are some chains that are already using this Proof of Stake protocol and that are live and thriving.Some of them are like `avalanche`, `solana`, `polygon`, `polkadot` and `terra` and additionally ethereum has decided to upgrade to eth2 which will have this proof of stake algorithm as well.

It's a different sybil resistant mechanism instead of solving this difficult problem POS nodes put up some collateral that they're going to behave honestly aka they stake.In the example of ethereum 2 nodes put up some ethereum as a stake they're going to behave honestly in the network.

If they misbehave to the network they're going to be slashed or removed some of their stake.Obviously this is a very good sybil resistance mechanism because if you try to create a whole bunch of anonymous accounts then each one of those accounts you have to put up some stake and if you misbehave you're going to run the risk of loosing all the money that you put up as collateral.


**Validators**

In POS miners are actually called `validators` because they're no longer mining anything.They're actually just validating other nodes.Unlike POW which every node is racing to be the first one to find the block in POS nodes are randomly chosen to propose the new block and then the rest of the validators will validate if that node has porposed the block honestly.

As you saw with our cryptography lesson it's usually very easy for other nodes to verify if a proposal or a transaction is honest.

### Randomness

It's a really important topic when we're talking about blockchains because keep in mind these blockchains are deterministics systems.They're walled garded from the rest of the world and as you know a deterministic system by definition can't have random numbers.So how do we choose the random validators in the system?

Well it changes from blockchain to blockchain and actually choosing the node will change blockchain to blockchain but in eth2 they're using what's called randow at least for the original implementation.This is a decentralized autonomous organization that collectively chooses the random number and collectively chooses which node is going to run next.


**pros & cons of pos**

POS obviously has some pros and cons as well.

Pros are that again it's a great sybil resistance mechanism and a great way to figure out who the author of a block should be and the other pros are that it's way less computationally expensive to figure out new block because instead of every single node on the network trying to do this only one node needs to do this and the rest of the nodes just need to be validate.

Cons are that it's usually considered a slightly less descentralized network due to the upfront staking costs, it costs to participate.This gets into a little bit of a philosophical battle on how decentralized is decentralized enough and I think it's upto the community to decide and as we progress I think we'll learn more and more about how decentralized is decentralized enough.The general consensus among blockchain engineers though is that POS is very very decentralized and very secure.This massive environmental impact improvement is one of the two main reasons why eth is shifting to eth2.It reduces the environment impact by upto 99%.


**Scalability problem & Sharding solution**

- Scalability

When we're talking about gas prices we're saying that the gas prices can get really high if a lot of people want to send a transaction because a block only has so much block space and the nodes can only add so many transactions.So when alot of people wanna use blockchain the gas price skyrockets.This is not very scalable because we wanna add more and more people to these blockchains it's going to cost more and more to use the blockchains because more people are going to want to get into blocks.This means that there's kind of a ceiling to how many people can use the system because of the financial constraints will get imposed as gas prices keep rising. Eth2 is not only attacking the environmental impact of POW by switching to POS but they're also implementing this new methodology called `Sharding`.

- Sharding

Sharding is a solution to this scalability problem.A sharding blockchain really just means that it's going to be a blockchain of blockchains.There's a main chain that's going to coordinate  everything amongst several chains that hook into this main chain.This means that there's more chains for people to make transactions on effectively increasing the amount of blockspace that there is.Sharding can greatly increase the number of transactions on a blockchain layer1.There's another term that might be the first time you've heard it's a layer1.


**Layer 1 & Layer 2**

Layerr1 refers to any base layer blockchain implementation.Bitcoin's,Ethereum and Avalanche a layer1.These are base layer blockchain solutions.

A layer2 is any application that is added on top of layer1;added on top of blockchain.Some examples of layer2 are going to be chainlink, arbitrum or optimism.Arbitrum and optimism are very interesting because they're layer2s that also look to solve the scalability issue.They are known as `Rollups`.


**Rollups**

Arbitrum and Optimism roll up their transaction into a layer1 like ethereum.We're not gonna go to deep into rollups and how they actually work but all you really need to know is that a rollup is kind of like a `shraded chain`.They derive their security from the base layer from the layer1 like ethereum and they bulk send their transactions onto the layer1.They solve some of the scalability issues by being another blockchain that people can make transactions on still on kind of base ethereum layer.Now they're different from `side chains` because side chains derive their security from their own protocols.Rollups derive their security from the base layers.So arbitrum and optisium for example is going to be just about as secure as ethereum.



**Summary**

- BTC and ETH are both Proof-of-Work blockchains that follow Nakamoto Consensus.
- ETH2 will be a Proof-of-Stake shraded blockchain.
- Sybil attacks are prevented due to protocols like POW & POS.
- 51% attack grows increasingly harder with the size of blockchain.
- Consensus is how blockchains decide what the state of the chain is.
- Sharding and rollups are solution to scalability issues on layer1's.
- A layer1 is any base blockchain implementation like bitcoin or ethereum.
- A blockchain scalability problem is that there's not enough block space for the amount of transactions that want to get in them which leads to very high gas price.
- Gas prices are how much it costs to interact with a blockchain.



    
    










